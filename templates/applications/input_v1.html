{% load static %}
<html>
	<head>
		{% include 'base/head.html' %}
	</head>
	<body>
		{% include 'base/headder_navbar.html' %}
		<div class="between-headder-footer">
			<form method="post" action="">
				{% csrf_token %}
				<!-- 見出し -->
				{% include "base/popover_headline_v1.html" with title="<h5>予約枠登録</h5>" description="キャンセル枠開放スケジュールは毎日23時00分頃に取得し、同時に登録されている予約枠を初期化するため、それ以降のご登録をお願いいたします。<br>また、登録された予約枠は予約日当日の8時25分頃にプログラムから取得を行いますので、それまでのご登録をお願いいたします。<br>" only %}
				<table class="table table-bordered table-hover">
					<thead>
						<tr>
							<th scope="col">選択</th>
							<th scope="col">施設</th>
							<th scope="col">場所</th>
							<th scope="col">開放日</th>
							<th scope="col">開放時間</th>
							<th scope="col">開放予定日</th>
						</tr>
					</thead>
					<tbody>
						{% for item in db_cancel_border %}
							<tr>
								{% if db_reserve_border == item %}
									<td class="table-warning"><label><input type="radio" name="radio_reserve_border" id="reserve_border" value="['{{ item.0 }}','{{ item.1 }}','{{ item.2 }}','{{ item.3 }}','{{ item.4 }}']"></label></td>
									<td class="table-warning">{{ item.0 }}</td>
									<td class="table-warning">{{ item.1 }}</td>
									<td class="table-warning">{{ item.2 }}</td>
									<td class="table-warning">{{ item.3 }}</td>
									<td class="table-warning">{{ item.4 }}</td>
								{% else %}
									<td><label><input type="radio" name="radio_reserve_border" value="['{{ item.0 }}','{{ item.1 }}','{{ item.2 }}','{{ item.3 }}','{{ item.4 }}']"></label></td>
									<td>{{ item.0 }}</td>
									<td>{{ item.1 }}</td>
									<td>{{ item.2 }}</td>
									<td>{{ item.3 }}</td>
									<td>{{ item.4 }}</td>
								{% endif %}
							</tr>
						{% endfor %}
					</tbody>
				</table>
				<span class="d-flex align-items-center">
					<button type="submit" class="btn btn-primary" name="db_action_btn" value="save">予約日の登録・削除</button>
					{% include "base/popover_v1.html" with title="" description="登録が正常に行われると対象の予約枠が強調表示されます。<br>ラジオボタンを選択せずにクリックすると予約枠を削除します。" only %}
				</span>
			</form>
		</div>
	</body>
	<script>
		//BootstrapのPopperを使用するためのJS
		(function() {
			window.addEventListener("load", function () {
				$('[data-toggle="popover"]').popover();
			});
		})();
		// submitボタンをクリックして同じタブで実行させる
		function sametab(u){
			var f = document.querySelector("form");
			var a = f.setAttribute("action", u);
			var a = f.setAttribute("target", "");
			document.querySelector("form").submit();
		}
		// submitボタンをクリックして同じタブで実行させる
		// 確認画面付き
		function sametab_conf(u){
			if(window.confirm('削除しますか？')){
				var f = document.querySelector("form");
				var a = f.setAttribute("action", u);
				var a = f.setAttribute("target", "");
				document.querySelector("form").submit();
			}
			else{
				return false;
			}
		}
		// submitボタンをクリックして新しいタブで実行させる
		function newtab(u){
			var f = document.querySelector("form");
			var a = f.setAttribute("action", u);
			var a = f.setAttribute("target", "_blank");
			document.querySelector("form").submit();
		}

		/*
		// ラジオボタンとテキストボックスを連動 評価レート
		$(function(){
			 $( 'input[name="radio_rate"]:radio' ).change( function() {
					var radioval = $(this).val();
					if(radioval == "ON"){
						 $('#inputrate').removeAttr('disabled');
					}else{
						 $('#inputrate').attr('disabled','disabled');
					}
			 });
		});
		// ラジオボタンとテキストボックスを連動 出品者ID
		$(function(){
			 $( 'input[name="exclude_id"]:radio' ).change( function() {
					var radioval = $(this).val();
					if(radioval == "ON"){
						 $('#input_exclude_id').removeAttr('disabled');
					}else{
						 $('#input_exclude_id').attr('disabled','disabled');
					}
			 });
		});
		// ラジオボタンとテキストボックスを連動 タイトルと商品説明で部分一致除外
		$(function(){
			 $( 'input[name="exclude_titledesc"]:radio' ).change( function() {
					var radioval = $(this).val();
					if(radioval == "ON"){
						 $('#input_exclude_titledesc').removeAttr('disabled');
					}else{
						 $('#input_exclude_titledesc').attr('disabled','disabled');
					}
			 });
		});
		*/
	</script>
</html>